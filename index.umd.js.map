{"version":3,"file":"index.umd.js","names":["quill: Quill","options: Partial<QuillImagePreviewOptions>","e: MouseEvent","img: HTMLImageElement"],"sources":["../src/index.ts"],"sourcesContent":["import type Quill from 'quill';\r\n\r\nexport interface QuillImagePreviewOptions {\r\n  enableOnEdit: boolean;\r\n  beforePreviewDisplay: (this: QuillImagePreview, img: HTMLImageElement) => boolean;\r\n}\r\nexport class QuillImagePreview {\r\n  options: QuillImagePreviewOptions;\r\n  constructor(public quill: Quill, options: Partial<QuillImagePreviewOptions>) {\r\n    this.options = this.resolveOptions(options);\r\n    this.quill.root.addEventListener('click', this.imagePreviewCheck);\r\n  }\r\n\r\n  resolveOptions(options: Partial<QuillImagePreviewOptions>) {\r\n    return Object.assign({\r\n      enableOnEdit: true,\r\n      beforePreviewDisplay: () => false,\r\n    }, options);\r\n  }\r\n\r\n  imagePreviewCheck = (e: MouseEvent) => {\r\n    if (this.options.enableOnEdit && !this.quill.isEnabled()) return;\r\n    const target = e.target as HTMLElement;\r\n    if (target && target.tagName === 'IMG' && !this.options.beforePreviewDisplay.call(this, target as HTMLImageElement)) {\r\n      this.createImagePreview(target as HTMLImageElement);\r\n    }\r\n  };\r\n\r\n  createImagePreview(img: HTMLImageElement) {\r\n    const temp = document.createElement('div');\r\n    temp.innerHTML = `\r\n      <div class=\"fixed top-0 left-0 right-0 bottom-0 z-500 backdrop-blur-7\">\r\n        <div class=\"absolute top-0 left-0 right-0 bottom-0 bg-black:50 z--1\" />\r\n        <img src=\"${img.src}\" class=\"max-w-screen max-h-screen w-full h-full object-contain\">\r\n      </div>\r\n    `;\r\n    const wrapper = temp.children[0];\r\n    wrapper.addEventListener('click', () => {\r\n      document.body.removeChild(wrapper);\r\n    });\r\n    document.body.appendChild(wrapper);\r\n  }\r\n}\r\n\r\nexport default QuillImagePreview;\r\n"],"mappings":";;;;;;;;;AAMA,IAAa,oBAAb,MAA+B;CAC7B;CACA,YAAmBA,OAAcC,SAA4C;EAqC9E,KArCoB;AACjB,OAAK,UAAU,KAAK,eAAe,QAAQ;AAC3C,OAAK,MAAM,KAAK,iBAAiB,SAAS,KAAK,kBAAkB;CAClE;CAED,eAAeA,SAA4C;AACzD,SAAO,OAAO,OAAO;GACnB,cAAc;GACd,sBAAsB,MAAM;EAC7B,GAAE,QAAQ;CACZ;CAED,oBAAoB,CAACC,MAAkB;AACrC,MAAI,KAAK,QAAQ,iBAAiB,KAAK,MAAM,WAAW,CAAE;EAC1D,MAAM,SAAS,EAAE;AACjB,MAAI,UAAU,OAAO,YAAY,UAAU,KAAK,QAAQ,qBAAqB,KAAK,MAAM,OAA2B,CACjH,MAAK,mBAAmB,OAA2B;CAEtD;CAED,mBAAmBC,KAAuB;EACxC,MAAM,OAAO,SAAS,cAAc,MAAM;AAC1C,OAAK,aAAa;;;oBAGF,IAAI,IAAI;;;EAGxB,MAAM,UAAU,KAAK,SAAS;AAC9B,UAAQ,iBAAiB,SAAS,MAAM;AACtC,YAAS,KAAK,YAAY,QAAQ;EACnC,EAAC;AACF,WAAS,KAAK,YAAY,QAAQ;CACnC;AACF;AAED,kBAAe"}